
import java.util.Scanner;

public class Jogo {
 
    private char[][] tabuleiro;
    private char[][] tabuleiroTesouro;
    Scanner scan = new Scanner(System.in);

    public void iniciar() {
        tabuleiro = new char[8][8];
        tabuleiroTesouro = new char[8][8];
        popularTabuleiro();
        colocarTesouro();
        colocarJogador();
        tabuleiroIniciar();
        movimento(scan);
        //....
    }
    
    private void colocarTesouro() {
        char tesouro = 'T';
        int linha = 0;
        int coluna = 0;
        do { 
        linha = (int) (Math.random() * 8);
        coluna = (int) (Math.random() * 8);
        tabuleiro[linha][coluna] = tesouro;
        tabuleiroTesouro[linha][coluna] = tesouro;
        } while (linha==0 && coluna == 0);
    }

    private void popularTabuleiro(){
        for (int linha = 0; linha < tabuleiro.length; linha++) {
            for (int coluna = 0; coluna < tabuleiro[0].length; coluna++) {
                tabuleiro[linha][coluna] = '-';
            }
            System.out.println();
        }
    }

    private void tabuleiroIniciar(){
        for (int linha = 0; linha < tabuleiro.length; linha++) {
            for (int coluna = 0; coluna < tabuleiro[0].length; coluna++) {
                System.out.print(tabuleiro[linha][coluna]);
            }
            System.out.println();
        }
    }

    private void colocarJogador(){
        char jogador = 'P';
        tabuleiro[0][0] = jogador;
    }

    private void movimento(Scanner scan){
        String movimento = "";
        boolean achou = false;
        boolean  moveu = false;
        do { 
            System.out.println("Escolha um movimento para ser feito: Cima, baixo, esquerda, direita");
            movimento = scan.next().toLowerCase();
            moveu=false;
            switch (movimento) {
                case "cima":
                    for (int linha = 0; linha < tabuleiro.length && !moveu; linha++) {
                        for (int coluna = 0; coluna < tabuleiro[0].length && !moveu; coluna++) {
                            if (tabuleiro[linha][coluna] == 'P') {
                                if (linha - 1 >= 0) { 
                                    tabuleiro[linha - 1][coluna] = 'P';
                                    tabuleiro[linha][coluna] = '-';
                                    moveu=true;
                                } else {
                                    System.out.println("Movimento inválido! Escolha outro movimento");
                                }
                                break;
                            }
                        }
                    }
                    break;
    
                case "baixo":
                    for (int linha = 0; linha < tabuleiro.length && !moveu; linha++) {
                        for (int coluna = 0; coluna < tabuleiro[0].length && !moveu; coluna++) {
                            if (tabuleiro[linha][coluna] == 'P') {
                                if (linha + 1 < tabuleiro.length) { 
                                    tabuleiro[linha + 1][coluna] = 'P';
                                    tabuleiro[linha][coluna] = '-';
                                    moveu=true;
                                } else {
                                    System.out.println("Movimento inválido! Escolha outro movimento");
                                }
                            }
                        }
                    }
                    break;
    
                case "esquerda":
                    for (int linha = 0; linha < tabuleiro.length && !moveu; linha++) {
                        for (int coluna = 0; coluna < tabuleiro[0].length && !moveu; coluna++) {
                            if (tabuleiro[linha][coluna] == 'P') {
                                if (coluna - 1 >= 0) { 
                                    tabuleiro[linha][coluna - 1] = 'P';
                                    tabuleiro[linha][coluna] = '-';
                                    moveu=true;
                                } else {
                                    System.out.println("Movimento inválido! Escolha outro movimento");
                                }
                                break;
                            }
                        }
                    }
                    break;
    
                case "direita":
                    for (int linha = 0; linha < tabuleiro.length && !moveu; linha++) {
                        for (int coluna = 0; coluna < tabuleiro[0].length && !moveu; coluna++) {
                            if (tabuleiro[linha][coluna] == 'P') {
                                if (coluna + 1 < tabuleiro[0].length) { 
                                    tabuleiro[linha][coluna + 1] = 'P';
                                    tabuleiro[linha][coluna] = '-';
                                    moveu=true;
                                } else {
                                    System.out.println("Movimento inválido! Escolha outro movimento");
                                }
                                break;
                            }
                        }
                    }
                    break;
    
                default:
                    System.out.println("Comando inválido, insira um movimento válido");
                    break;
            }
            if (moveu) {
               tabuleiroIniciar(); 
            }
    
            
            for (int linha = 0; linha < tabuleiro.length; linha++) {
                for (int coluna = 0; coluna < tabuleiro[0].length; coluna++) {
                    if (tabuleiro[linha][coluna] == 'P' && tabuleiroTesouro[linha][coluna] == 'T') {
                        System.out.println("Parabéns! Você encontrou o tesouro!");
                        achou = true;
                        break;
                    }
                }
                if (achou) break;
            }
        } while (!achou); 
    }
}
